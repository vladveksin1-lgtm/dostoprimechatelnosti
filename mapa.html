<!DOCTYPE html>
<html>
<head>
    <title>Карта Ярославской области</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="mapa.css" />
</head>
<body>
    <div id="map"></div>

    <!-- Кнопка выхода из полноэкранного режима (изначально скрыта)
    <button id="exitFullscreenButton" style="display: none; position: fixed; top: 20px; right: 20px; z-index: 1000; padding: 10px 20px; background-color: rgba(44, 62, 80, 0.95); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; box-shadow: 0 4px 6px rgba(0,0,0,0.2);">
        ✕ Выйти
    </button> -->

    <script>
        var map = L.map('map', {
            zoomControl: false,
            attributionControl: false
        }).setView([57.89, 39.00], 9);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: ''
        }).addTo(map);

        // Обознаяение точки(форма иконки)
        var customIcon = L.divIcon({
            className: 'custom-marker',
            iconSize: [20, 20],
            html: '' // можно добавить HTML внутрь метки
        });

        // Функция для создания ID достопримечательности автоматически
        function createAttractionId(name, city) {
            // Удаление спецсимволов
            return city + '-' + name.toLowerCase()
                .replace(/[^а-яёa-z0-9\s]/g, '') // спецсимволы
                .replace(/\s+/g, '-') // замена пробелы на дефисы
                .replace(/[()]/g, '') // удаление скобкок
                .replace(/--+/g, '-') // удаление двойные дефисы
                .trim();
        }

        // локации(точки)
        var locations = 
        [
            // Мышкин
            {name: "Музей Русские валенки", coords: [57.786557, 38.457017], type: "museum", comment: "Музей посвящен истории валяния валенок и русским традициям.", link: "Towns/myshkin.html#музей-русские-валенки", siteLink: "https://visityaroslavia.ru/places/916"},
            {name: "Музей льна", coords: [57.786646, 38.457111], type: "museum", comment: "Экспозиция, посвященная выращиванию и обработке льна на Руси.", link: "Towns/myshkin.html#музей-льна", siteLink: ""},
            {name: "Музей Мышкинский самоходъ", coords: [57.783483, 38.452163], type: "museum", comment: "Музей ретро-автомобилей и сельскохозяйственной техники.", link: "Towns/myshkin.html#музей-мышкинский-самоходъ", siteLink: ""},
            {name: "Музей деревянного зодчества", coords: [57.782773, 38.451631], type: "museum", comment: "Под открытым небом представлены традиционные деревянные постройки.", link: "Towns/myshkin.html#музей-деревянного-зодчества", siteLink: ""},
            {name: "Музей столицы лоцманов", coords: [57.783642, 38.451279], type: "museum", comment: "Музей истории волжского судоходства и лоцманского дела.", link: "Towns/myshkin.html#музей-столицы-лоцманов", siteLink: ""},
            {name: "Мышкинская картинная галерея", coords: [57.786116, 38.450566], type: "museum", comment: "Коллекция живописи местных и российских художников.", link: "Towns/myshkin.html#мышкинская-картинная-галерея", siteLink: ""},
            {name: "Мемориальный комплекс Победы", coords: [57.789045, 38.459788], type: "memorial", comment: "Памятник воинам-мышкинцам, погибшим в Великой Отечественной войне.", link: "Towns/myshkin.html#мемориальный-комплекс-победы", siteLink: ""},
            {name: "Опочининская библиотека", coords: [57.786665, 38.456359], type: "library", comment: "Старейшая публичная библиотека города, основана в 1875 году.", link: "Towns/myshkin.html#опочининская-библиотека", siteLink: ""},
            {name: "Усадьба купца Чистова", coords: [57.787981, 38.454988], type: "estate", comment: "Дом-музей купеческого быта XIX века.", link: "Towns/myshkin.html#усадьба-купца-чистова", siteLink: ""},
            {name: "Успенский собор", coords: [57.787146, 38.455413], type: "church", comment: "Главный православный храм Мышкина, построен в 1805-1820 гг.", link: "Towns/myshkin.html#успенский-собор-мышкин", siteLink: ""},
            {name: "Никольский собор", coords: [57.784611, 38.450984], type: "church", comment: "Храм в честь Николая Чудотворца, памятник архитектуры.", link: "Towns/myshkin.html#никольский-собор-мышкин", siteLink: ""},
            {name: "Церковь иконы Божией Матери Всех скорбящих Радость", coords: [57.789533, 38.445477], type: "church", comment: "Домовая церковь при богадельне, построена в 1866 году.", link: "Towns/myshkin.html#церковь-иконы-божией-матери-всех-скорбящих-радость", siteLink: ""},
            
            // Углич
            {name: "Угличский кремль", coords: [57.528446, 38.317633], type: "kremlin", comment: "Исторический центр Углича, древняя крепость на берегу Волги.", link: "Towns/uglich.html#угличский-кремль", siteLink: ""},
            {name: "Церковь Царевича Димитрия на крови", coords: [57.529631, 38.318771], type: "church", comment: "Построена на месте гибели царевича Дмитрия в 1692 году.", link: "Towns/uglich.html#церковь-царевича-димитрия-на-крови", siteLink: ""},
            {name: "Палаты угличских удельных князей", coords: [57.529255, 38.318242], type: "palace", comment: "Одно из старейших гражданских зданий России (XV век).", link: "Towns/uglich.html#палаты-угличских-удельных-князей", siteLink: ""},
            {name: "Спасо-Преображенский собор", coords: [57.529040, 38.317183], type: "church", comment: "Главный храм Угличского кремля, построен в 1713 году.", link: "Towns/uglich.html#спасо-преображенский-собор-углич", siteLink: ""},
            {name: "Алексеевский монастырь", coords: [57.526551, 38.330110], type: "monastery", comment: "Женский монастырь, основанный в 1371 году митрополитом Алексием.", link: "Towns/uglich.html#алексеевский-монастырь", siteLink: ""},
            {name: "Воскресенский монастырь", coords: [57.525773, 38.308064], type: "monastery", comment: "Мужской монастырь с уникальным архитектурным ансамблем XVII века.", link: "Towns/uglich.html#воскресенский-монастырь", siteLink: ""},
            {name: "Богоявленский монастырь", coords: [57.522810, 38.321638], type: "monastery", comment: "Женский монастырь, основанный в конце XIV века.", link: "Towns/uglich.html#богоявленский-монастырь", siteLink: ""},
            {name: "Церковь Рождества Иоанна Предтечи", coords: [57.526617, 38.307599], type: "church", comment: "Храм на берегу Волги, известный своей шатровой колокольней.", link: "Towns/uglich.html#церковь-рождества-иоанна-предтечи", siteLink: ""},
            {name: "Казанская церковь", coords: [57.527307, 38.315698], type: "church", comment: "Построена в 1778 году в стиле классицизма.", link: "Towns/uglich.html#казанская-церковь-углич", siteLink: ""},
            {name: "Музей гидроэнергетики", coords: [57.524446, 38.303831], type: "museum", comment: "Современный интерактивный музей истории гидроэнергетики России.", link: "Towns/uglich.html#музей-гидроэнергетики", siteLink: ""},
            {name: "Музей истории Углича", coords: [57.530932, 38.340136], type: "museum", comment: "Экспозиция, посвященная истории города от основания до наших дней.", link: "Towns/uglich.html#музей-истории-углича", siteLink: ""},
            {name: "Музей мифов и суеверий русского народа", coords: [57.523510, 38.307963], type: "museum", comment: "Частный музей, посвященный русским поверьям и обрядам.", link: "Towns/uglich.html#музей-мифов-и-суеверий-русского-народа", siteLink: ""},
            {name: "Музей тюремного искусства Запретная зона", coords: [57.529452, 38.321240], type: "museum", comment: "Коллекция предметов, созданных заключенными.", link: "Towns/uglich.html#музей-тюремного-искусства-запретная-зона", siteLink: ""},
            {name: "Угличская ГЭС", coords: [57.525085, 38.299782], type: "industrial", comment: "Первая ГЭС на Волге, построена в 1935-1955 гг.", link: "Towns/uglich.html#угличская-гэс", siteLink: ""},
            {name: "Торговые ряды", coords: [57.525957, 38.319320], type: "architecture", comment: "Гостиный двор XIX века в стиле классицизма.", link: "Towns/uglich.html#торговые-ряды-углич", siteLink: ""},

            // Переславль-Залесский
            {name: "Земляной вал", coords: [56.736888, 38.856516], type: "kremlin", comment: "Земляные валы XII века, исторический центр города.", link: "Towns/pereslavl.html#земляной-вал", siteLink: ""},
            {name: "Спасо-Преображенский собор", coords: [56.736704, 38.852040], type: "church", comment: "Один из древнейших белокаменных храмов России (1152-1157 гг.).", link: "Towns/pereslavl.html#спасо-преображенский-собор-переславль", siteLink: ""},
            {name: "Церковь Петра Митрополита", coords: [56.735487, 38.851307], type: "church", comment: "Храм XVI века с уникальной архитектурой.", link: "Towns/pereslavl.html#церковь-петра-митрополита", siteLink: ""},
            {name: "Владимирский собор", coords: [56.735318, 38.852031], type: "church", comment: "Собор в стиле классицизма, построен в 1740-е годы.", link: "Towns/pereslavl.html#владимирский-собор", siteLink: ""},
            {name: "Церковь Александра Невского", coords: [56.735631, 38.852362], type: "church", comment: "Храм, построенный в честь небесного покровителя города.", link: "Towns/pereslavl.html#церковь-александра-невского", siteLink: ""},
            {name: "Никитский монастырь", coords: [56.760947, 38.859683], type: "monastery", comment: "Древнейший монастырь Северо-Восточной Руси (XI век).", link: "Towns/pereslavl.html#никитский-монастырь", siteLink: ""},
            {name: "Горицкий Успенский монастырь", coords: [56.720857, 38.823735], type: "monastery", comment: "Упраздненный монастырь, ныне - музей-заповедник.", link: "Towns/pereslavl.html#горицкий-успенский-монастырь", siteLink: ""},
            {name: "Феодоровский монастырь", coords: [56.712695, 38.819098], type: "monastery", comment: "Женский монастырь, основанный в 1304 году.", link: "Towns/pereslavl.html#феодоровский-монастырь", siteLink: ""},
            {name: "Свято-Троицкий Данилов монастырь", coords: [56.720239, 38.838366], type: "monastery", comment: "Монастырь, основанный в 1508 году Даниилом Переславским.", link: "Towns/pereslavl.html#свято-троицкий-данилов-монастырь", siteLink: ""},
            {name: "Никольский монастырь", coords: [56.731856, 38.838108], type: "monastery", comment: "Женский монастырь, восстановленный в конце XX века.", link: "Towns/pereslavl.html#никольский-монастырь", siteLink: ""},
            {name: "Музей-усадьба Ботик Петра I", coords: [56.723684, 38.772294], type: "museum", comment: "Место, где Петр I строил свою потешную флотилию.", link: "Towns/pereslavl.html#музей-усадьба-ботик-петра-i", siteLink: ""},
            {name: "Плещеево озеро", coords: [56.766317, 38.779148], type: "nature", comment: "Красивейшее озеро ледникового происхождения, национальный парк.", link: "Towns/pereslavl.html#плещеево-озеро", siteLink: ""},
            {name: "Синий камень", coords: [56.784166, 38.824793], type: "nature", comment: "Древний культовый камень весом 12 тонн на берегу Плещеева озера.", link: "Towns/pereslavl.html#синий-камень", siteLink: ""},
            {name: "Музей утюга", coords: [56.734618, 38.852470], type: "museum", comment: "Частная коллекция утюгов разных эпох и стран.", link: "Towns/pereslavl.html#музей-утюга", siteLink: ""},
            {name: "Музей чайника", coords: [56.724423, 38.787151], type: "museum", comment: "Коллекция чайников и предметов чайной церемонии.", link: "Towns/pereslavl.html#музей-чайника", siteLink: ""},
            {name: "Музей Царство Ряпушки", coords: [56.724517, 38.787758], type: "museum", comment: "Музей, посвященный знаменитой переславской ряпушке.", link: "Towns/pereslavl.html#музей-царство-ряпушки", siteLink: ""},
            {name: "Дом Берендея", coords: [56.748763, 38.860841], type: "museum", comment: "Культурный центр с экспозицией славянской мифологии.", link: "Towns/pereslavl.html#дом-берендея", siteLink: ""},
            {name: "Железнодорожный музей на станции Талицы", coords: [56.802627, 38.647902], type: "museum", comment: "Музей узкоколейной железной дороги под открытым небом.", link: "Towns/pereslavl.html#железнодорожный-музей-на-станции-талицы", siteLink: ""},
            {name: "Клещинский комплекс", coords: [56.776336, 38.839370], type: "archeology", comment: "Археологический памятник - древнее городище.", link: "Towns/pereslavl.html#клещинский-комплекс", siteLink: ""},

            // Ярославль
            {name: "Спасо-Преображенский монастырь", coords: [57.620823, 39.889932], type: "monastery", comment: "Древний монастырь, ныне - Ярославский музей-заповедник.", link: "Towns/yaroslavl.html#спасо-преображенский-монастырь", siteLink: ""},
            {name: "Спасо-Преображенский собор", coords: [57.621498, 39.889465], type: "church", comment: "Главный храм монастыря, построен в 1516 году.", link: "Towns/yaroslavl.html#спасо-преображенский-соборгосподня", siteLink: ""},
            {name: "Церковь Феодора, Давида и Константина Ярославских в Сопёлках", coords: [57.548297, 40.048814], type: "church", comment: "Храм в честь основателей города - князей Федора, Давида и Константина.", link: "Towns/yaroslavl.html#церковь-феодора-давида-и-константина-ярославских-в-сопёлках", siteLink: ""},
            {name: "Церковь Ильи Пророка", coords: [57.626759, 39.894358], type: "church", comment: "Шедевр ярославской школы зодчества с уникальными фресками (1647-1650).", link: "Towns/yaroslavl.html#церковь-или-пророка", siteLink: ""},
            {name: "Церковь Иоанна Предтечи", coords: [57.610891, 39.856999], type: "church", comment: "Вершина ярославского зодчества, изображена на 1000-рублевой купюре.", link: "Towns/yaroslavl.html#церковь-иоанна-предтечи", siteLink: ""},
            {name: "Церковь Иоанна Златоуста", coords: [57.611574, 39.905901], type: "church", comment: "Храм XVII века в Коровницкой слободе с высокой колокольней.", link: "Towns/yaroslavl.html#церковь-иоанна-златоуста", siteLink: ""},
            {name: "Церковь Владимирской Богоматери", coords: [57.611178, 39.906471], type: "church", comment: "Храм в ансамбле с церковью Иоанна Златоуста.", link: "Towns/yaroslavl.html#церковь-владимирской-богоматери", siteLink: ""},
            {name: "Церковь Богоявления", coords: [57.621162, 39.889897], type: "church", comment: "Храм XVII века с изразцовым декором фасадов.", link: "Towns/yaroslavl.html#церковь-богоявления", siteLink: ""},
            {name: "Церковь Михаила Архангела", coords: [57.622107, 39.892682], type: "church", comment: "Храм в рыболовной слободе, построен в 1657-1682 гг.", link: "Towns/yaroslavl.html#церковь-михаила-архангела", siteLink: ""},
            {name: "Церковь Николы Рубленого", coords: [57.622501, 39.898181], type: "church", comment: "Единственная сохранившаяся церковь Ярославского кремля.", link: "Towns/yaroslavl.html#церковь-николы-рубленого", siteLink: ""},
            {name: "Стрелка Ярославль", coords: [57.618601, 39.904633], type: "landmark", comment: "Место слияния Волги и Которосли, историческое место основания города.", link: "Towns/yaroslavl.html#стрелка-ярославль", siteLink: ""},
            {name: "Успенский собор", coords: [57.622415, 39.902063], type: "church", comment: "Воссозданный в 2010 году кафедральный собор на Стрелке.", link: "Towns/yaroslavl.html#успенский-собор-ярославль", siteLink: ""},
            {name: "Волжская башня", coords: [57.624975, 39.901556], type: "architecture", comment: "Сохранившаяся башня земляного города (городских укреплений).", link: "Towns/yaroslavl.html#волжская-башня", siteLink: ""},
            {name: "Знаменская башня", coords: [57.625360, 39.885049], type: "architecture", comment: "Башня XVII века, часть укреплений Земляного города.", link: "Towns/yaroslavl.html#знаменская-башня", siteLink: ""},
            {name: "Губернаторский дом(Художественный музей)", coords: [57.628208, 39.897309], type: "museum", comment: "Бывшая резиденция губернаторов, ныне - художественный музей.", link: "Towns/yaroslavl.html#губернаторский-домхудожественный-музей", siteLink: ""},
            {name: "Ярославский государственный историко-архитектурный и художественный музей-заповедник", coords: [57.621637, 39.888574], type: "museum", comment: "Крупнейший музейный комплекс в Спасо-Преображенском монастыре.", link: "Towns/yaroslavl.html#ярославский-государственный-историко-архитектурный-и-художественный-музей-заповедник", siteLink: ""},
            {name: "Музей истории города Ярославля", coords: [57.627059, 39.898601], type: "museum", comment: "Музей в купеческом особняке, посвящен истории города.", link: "Towns/yaroslavl.html#музей-истории-города-ярославля", siteLink: ""},
            {name: "Театр драмы им. Ф. Волкова", coords: [57.627077, 39.884708], type: "theater", comment: "Первый профессиональный театр России, основан в 1750 году.", link: "Towns/yaroslavl.html#театр-драмы-им-ф-волкова", siteLink: ""},
            {name: "Толгский монастырь", coords: [57.696532, 39.827591], type: "monastery", comment: "Действующий женский монастырь XIV века на берегу Волги.", link: "Towns/yaroslavl.html#толгский-монастырь", siteLink: ""},
            {name: "Усадьба Карабиха", coords: [57.509191, 39.756856], type: "estate", comment: "Музей-усадьба Н.А. Некрасова, где он жил и работал.", link: "Towns/yaroslavl.html#усадьба-карабиха", siteLink: ""},
            {name: "Собор Казанской иконы Божией Матери", coords: [57.628156, 39.887040], type: "church", comment: "Храм XVII века в пригороде Ярославля.", link: "Towns/yaroslavl.html#собор-казанской-иконы-божией-матери", siteLink: ""},

            // Рыбинск
            {name: "Новая хлебная биржа", coords: [58.049612, 38.856391], type: "museum", comment: "Построена в 1912 году. Архитектура в стиле модерн. Ныне - Рыбинский музей-заповедник. Адрес: Волжская набережная, 2.", link: "Towns/rybinsk.html#новая-хлебная-биржа", siteLink: ""},
            {name: "Старая хлебная биржа", coords: [58.049746, 38.854607], type: "architecture", comment: "Здание XIX века в стиле классицизма, бывший центр хлебной торговли.", link: "Towns/rybinsk.html#старая-хлебная-биржа", siteLink: ""},
            {name: "Спасо-Преображенский кафедральный собор", coords: [58.048281, 38.858883], type: "church", comment: "Кафедральный собор Рыбинска, построен в 1838-1851 гг.", link: "Towns/rybinsk.html#спасо-преображенский-кафедральный-собор", siteLink: ""},
            {name: "Никольская часовня", coords: [58.050170, 38.852498], type: "church", comment: "Часовня XIX века в память о чудесном спасении императора Александра III.", link: "Towns/rybinsk.html#никольская-часовня", siteLink: ""},
            {name: "Польский костел Сердца Иисуса", coords: [58.043847, 38.837539], type: "church", comment: "Католический храм, построенный в 1910 году для польской общины.", link: "Towns/rybinsk.html#польский-костел-сердца-иисуса", siteLink: ""},
            {name: "Красная площадь", coords: [58.048912, 38.855891], type: "square", comment: "Главная площадь Рыбинска с памятником Ленину и фонтаном.", link: "Towns/rybinsk.html#красная-площадь-рыбинск", siteLink: ""},
            {name: "Музей академика А.А. Ухтомского", coords: [58.037880, 38.866507], type: "museum", comment: "Музей, посвященный жизни и работе выдающегося физиолога.", link: "Towns/rybinsk.html#музей-академика-аа-ухтомского", siteLink: ""},
            {name: "Музей Нобели и нобелевское движение", coords: [58.047941, 38.862163], type: "museum", comment: "Экспозиция, рассказывающая о деятельности семьи Нобель в России.", link: "Towns/rybinsk.html#музей-нобели-и-нобелевское-движение", siteLink: ""},
            {name: "Рыбинская ГЭС", coords: [58.082019, 38.824566], type: "industrial", comment: "Одна из старейших ГЭС на Волге, построена в 1935-1955 гг.", link: "Towns/rybinsk.html#рыбинская-гэс", siteLink: ""},
            {name: "Волжский мост", coords: [58.051441, 38.862188], type: "bridge", comment: "Автомобильный мост через Волгу, построен в 1963 году.", link: "Towns/rybinsk.html#волжский-мост", siteLink: ""},

            // Тутаев
            {name: "Воскресенский собор", coords: [57.874174, 39.526794], type: "church", comment: "Главная достопримечательность города с уникальной трехшатровой архитектурой.", link: "Towns/tutaev.html#воскресенский-собор", siteLink: ""},
            {name: "Спасо-Архангельская церковь", coords: [57.884221, 39.531116], type: "church", comment: "Храм XVII века с изразцовым декором на фасаде.", link: "Towns/tutaev.html#спасо-архангельская-церковь", siteLink: ""},
            {name: "Покровская церковь", coords: [57.887333, 39.529658], type: "church", comment: "Храм в стиле классицизма, построен в 1781 году.", link: "Towns/tutaev.html#покровская-церковь", siteLink: ""},
            {name: "Крестовоздвиженский собор", coords: [57.878375, 39.545692], type: "church", comment: "Собор 'что на лугу', памятник архитектуры XVII века.", link: "Towns/tutaev.html#крестовоздвиженский-собор", siteLink: ""},
            {name: "Казанско-Преображенская церковь", coords: [57.879795, 39.536260], type: "church", comment: "Храм с уникальным фаянсовым иконостасом.", link: "Towns/tutaev.html#казанско-преображенская-церковь", siteLink: ""},
            {name: "Леонтьевско-Вознесенская церковь", coords: [57.876631, 39.550904], type: "church", comment: "Церковь на высоком берегу Волги с живописным видом.", link: "Towns/tutaev.html#леонтьевско-вознесенская-церковь", siteLink: ""},
            {name: "Дом купца С.Я. Вагина", coords: [57.870403, 39.532240], type: "museum", comment: "Купеческий особняк с экспозицией городского быта.", link: "Towns/tutaev.html#дом-купца-ся-вагина", siteLink: ""},
            {name: "Музей Борисоглебская сторона", coords: [57.870612, 39.532079], type: "museum", comment: "Музей истории правобережной части Тутаева.", link: "Towns/tutaev.html#музей-борисоглебская-сторона", siteLink: ""},

            // Данилов
            {name: "Собор Казанской иконы Божией Матери Даниловского Казанского женского монастыря на Горушке", coords: [58.179951, 40.147020], type: "church", comment: "Главный храм Данилова, построен в 1918 году в русском стиле.", link: "Towns/danilov.html#собор-казанской-иконы-божией-матери-даниловского-казанского-женского-монастыря-на-горушке", siteLink: ""},
            {name: "Церковь Николая Чудотворца в Данилове(Никольская церковь)", coords: [58.188475, 40.173588], type: "church", comment: "В 1893 году в центре города была возведена каменная церковь во имя Святителя Николая Чудотворца.", link: "Towns/danilov.html#церковь-николая-чудотворца-в-даниловеникольская-церковь", siteLink: ""},
            {name: "Торговые ряды", coords: [58.188004, 40.174078], type: "architecture", comment: "Комплекс торговых зданий XIX века в центре города.", link: "Towns/danilov.html#торговые-ряды-данилов", siteLink: ""},
            {name: "Часовня при церкви Вознесения Господня в Данилове", coords: [58.180034, 40.176189], type: "church", comment: "Кирпичная прямоугольная постройка, сооружённая ориентировочно в 3-й четверти XIX века. Сейчас часовня не используется, заперта, поддерживается в порядке.", link: "Towns/danilov.html#часовня-при-церкви-вознесения-господня-в-данилове", siteLink: ""},
            {name: "Церковь Вознесения Господня", coords: [58.179775, 40.176471], type: "church", comment: "Кладбищенская церковь в городе Данилов Ярославской области. Построена в 1856–1859 годах на средства купца Е. Ф. Коматовского.", link: "Towns/danilov.html#церковь-вознесения-господня", siteLink: ""},
            {name: "Даниловский историко-краеведческий музей", coords: [58.185529, 40.167075], type: "museum", comment: "Музей истории Даниловского уезда и города.", link: "Towns/danilov.html#даниловский-историко-краеведческий-музей", siteLink: ""},

            // Любим
            {name: "Церковь Троицы Живоначальной в Любиме", coords: [58.359590, 40.676245], type: "church", comment: "Каменный храм 1750 года, самая старая сохранившаяся церковь Любима. Закрывалась в советское время, но сохранила архитектурный облик.", link: "Towns/lyubim.html#церковь-троицы-живоначальной-в-любиме", siteLink: ""},
            {name: "Собор Богоявления Господня", coords: [58.363443, 40.685911], type: "church", comment: "Каменный храм 1750 года, самая старая сохранившаяся церковь Любима. Закрывалась в советское время, но сохранила архитектурный облик.", link: "Towns/lyubim.html#собор-богоявления-господня", siteLink: ""},
            {name: "Собор Воздвижения Честного Креста Господня в Любиме", coords: [58.364089, 40.700687], type: "church", comment: "Каменный храм 1750 года, самая старая сохранившаяся церковь Любима. Закрывалась в советское время, но сохранила архитектурный облик.", link: "Towns/lyubim.html#собор-воздвижения-честного-креста-господня-в-любиме", siteLink: ""},
            {name: "Церковь Рождества Иоанна Предтечи в Любиме", coords: [58.364089, 40.700687], type: "church", comment: "Каменный храм 1750 года, самая старая сохранившаяся церковь Любима. Закрывалась в советское время, но сохранила архитектурный облик.", link: "Towns/lyubim.html#церковь-рождества-иоанна-предтечи-в-любиме", siteLink: ""},
            {name: "Церковь Казанской иконы Божией Матери", coords: [58.359562, 40.676765], type: "church", comment: "Кирпичная церковь 1830-1836 гг., построена на средства прихожан. Яркий образец позднего классицизма в провинции.", link: "Towns/lyubim.html#церковь-казанской-иконы-божией-матери-любим", siteLink: ""},
            {name: "Церковь Тихвинской иконы Божией Матери в Любиме", coords: [58.359216, 40.676491], type: "church", comment: "Кирпичная церковь 1830-1836 гг., построена на средства прихожан. Яркий образец позднего классицизма в провинции.", link: "Towns/lyubim.html#церковь-тихвинской-иконы-божией-матери-в-любиме", siteLink: ""},
            {name: "Церковь Введения во храм Пресвятой Богородицы в Заучье", coords: [58.361425, 40.671377], type: "church", comment: "Кирпичная церковь 1830-1836 гг., построена на средства прихожан. Яркий образец позднего классицизма в провинции.", link: "Towns/lyubim.html#церковь-введения-во-храм-пресвятой-богородицы-в-заучье", siteLink: ""},
            {name: "Храм Введения ВО Храм Пресвятой Богородицы", coords: [58.361721, 40.671988], type: "church", comment: "Кирпичная церковь 1830-1836 гг., построена на средства прихожан. Яркий образец позднего классицизма в провинции.", link: "Towns/lyubim.html#храм-введения-во-храм-пресвятой-богородицы", siteLink: ""},
            {name: "Церковь Рождества Христова в Носкове", coords: [58.405632, 40.594979], type: "church", comment: "Кирпичная церковь 1830-1836 гг., построена на средства прихожан. Яркий образец позднего классицизма в провинции.", link: "Towns/lyubim.html#церковь-рождества-христова-в-носкове", siteLink: ""},
            {name: "Воинам, погибшим в Великой Отечественной войне 1941-1945 гг.", coords: [58.361312, 40.686957], type: "memorial", comment: "Мемориал с вечным огнем на месте захоронения воинов, погибших в Великой Отечественной войне. Центральный памятник города.", link: "Towns/lyubim.html#воинам-погибшим-в-великой-отечественной-войне-1941-1945-гг", siteLink: ""},
            {name: "Здание бывшей земской больницы", coords: [58.364025, 40.697976], type: "building", comment: "Постройка конца XIX - начала XX вв., характерный пример общественного здания в кирпичном стиле.", link: "Towns/lyubim.html#здание-бывшей-земской-больницы", siteLink: ""},
            {name: "Любимский историко-краеведческий музей", coords: [58.359451, 40.682126], type: "museum", comment: "Расположен в здании XIX века. Экспозиция посвящена истории города и района, природе края и традиционным промыслам.", link: "Towns/lyubim.html#любимский-историко-краеведческий-музей", siteLink: "https://музей-любим.рф/"},

            // Пошехонье
            {name: "Троицкий собор", coords: [58.504151, 39.118658], type: "church", comment: "Главный храм города (1755-1760 гг.). Величественный пятиглавый собор в стиле барокко, доминанта исторического центра. В советское время был обезглавлен, ведётся реставрация.", link: "Towns/poshekhonye.html#троицкий-собор", siteLink: ""},
            {name: "Церковь Успения Пресвятой Богородицы", coords: [58.497664, 39.127357], type: "church", comment: "Кирпичная церковь конца XVIII века в стиле раннего классицизма с элементами барокко. Расположена на территории бывшего Успенского монастыря.", link: "Towns/poshekhonye.html#церковь-успения-пресвятой-богородицы", siteLink: ""},
            {name: "Пошехонский историко-краеведческий музей", coords: [58.503648, 39.128579], type: "museum", comment: "Расположен в бывшем купеческом особняке (дом Торопова). Экспозиции посвящены истории города, народным промыслам (сыроделие, «пошехонский» сыр) и природе края.", link: "Towns/poshekhonye.html#пошехонский-историко-краеведческий-музей", siteLink: "https://mukzentr.ru/kraevedcheskiy-muzey.html"},
            {name: "Торговые ряды (Гостиный двор)", coords: [58.503415, 39.118699], type: "building", comment: "Комплекс торговых зданий XIX века в стиле классицизма. Символ купеческого прошлого города, центральная площадь сохранила историческую планировку.", link: "Towns/poshekhonye.html#торговые-ряды-гостиный-двор", siteLink: ""},
            {name: "Здание бывшей земской управы", coords: [58.503817, 39.127021], type: "building", comment: "Административное здание конца XIX века, характерный пример общественной архитектуры в кирпичном стиле.", link: "Towns/poshekhonye.html#здание-бывшей-земской-управы", siteLink: ""},
            {name: "Мемориал боевой славы братьев Королёвых", coords: [58.504617, 39.120320], type: "memorial", comment: "Скульптурная композиция и стелы с именами пошехонцев, погибших в годы Великой Отечественной войны. Центральный военный мемориал города.", link: "Towns/poshekhonye.html#мемориал-боевой-славы-братьев-королёвых", siteLink: ""},

            //Гаврилов-Ям
            {name: "Музей ямщика", coords: [57.307687, 39.851299], type: "museum", comment: "Расположен в здании бывшей земской школы (конец XIX в.). Посвящён истории ямщицкого промысла, давшего имя городу. Включает коллекцию упряжи, поддужных колокольчиков и предметов быта.", link: "Towns/gavrilov_yam.html#музей-ямщика", siteLink: "https://музей-ямщика.рф/"},
            {name: "Дом культуры (Особняк купца Локалова)", coords: [57.350739, 39.774961], type: "building", comment: "Великолепный особняк в «кирпичном» стиле (1880-е гг.), построенный на средства фабриканта А.А. Локалова. Ныне в здании расположен Дворец культуры.", link: "Towns/gavrilov_yam.html#дом-культуры-особняк-купца-локалова", siteLink: ""},
            {name: "Часовня Гавриила Архангела", coords: [57.304511, 39.853310], type: "church", comment: "Кирпичный храм в русско-византийском стиле (1878-1887 гг.). Построен на средства фабрикантов Локаловых. Сохранилась уникальная фреска «Страшный суд».", link: "Towns/gavrilov_yam.html#часовня-гавриила-архангела", siteLink: ""},
            {name: "Особняк Локалова (Село Великое)", coords: [57.350739, 39.774961], type: "building", comment: "Частично сохранившийся главный дом усадебного комплекса известной династии льнопромышленников. Архитектурная жемчужина города.", link: "Towns/gavrilov_yam.html#особняк-локалова-село-великое", siteLink: ""},
            {name: "Церковь Николая Чудотворца в Гаврилов-Яме", coords: [57.308430, 39.852294], type: "church", comment: "Современный храм (2000-е гг.), построенный в традициях русского деревянного зодчества на месте исторической церкви.", link: "Towns/gavrilov_yam.html#церковь-николая-чудотворца-в-гаврилов-яме", siteLink: ""},

            // Ростов
            {name: "Ростовский кремль (Митрополичий двор)", coords: [57.184426, 39.415161], type: "kremlin", comment: "Архитектурный ансамбль второй половины XVII века, бывшая резиденция митрополита. Всемирно известный памятник, объект Всемирного наследия ЮНЕСКО (в составе «Белокаменные памятники Владимира и Суздаля»).", link: "Towns/rostov.html#ростовский-кремль-митрополичий-двор", siteLink: "https://www.rostmuseum.ru/"},
            {name: "Успенский собор", coords: [57.185676, 39.415533], type: "church", comment: "Кафедральный собор (1508-1512 гг.) на Соборной площади. Пятиглавый храм, доминанта города. Рядом — знаменитая звонница с 13 колоколами (1680-е гг.).", link: "Towns/rostov.html#успенский-собор-ростов", siteLink: ""},
            {name: "Спасо-Яковлевский Димитриев монастырь", coords: [57.174464, 39.392650], type: "monastery", comment: "Женский монастырь на берегу озера Неро (основан в XIV в.). Архитектурный ансамбль XVII-XIX вв. в стиле барокко и классицизма. Место хранения мощей свт. Димитрия Ростовского.", link: "Towns/rostov.html#спасо-яковлевский-димитриев-монастырь", siteLink: "http://www.rostov-monastir.ru/"},
            {name: "Авраамиев Богоявленский монастырь", coords: [57.196343, 39.451145], type: "monastery", comment: "Один из древнейших монастырей России (основан в XI в.). Ансамбль XVI-XIX вв. Собор Богоявления (1553 г.) — древнейшее монастырское здание Ростова.", link: "Towns/rostov.html#авраамиев-богоявленский-монастырь", siteLink: ""},
            {name: "Рождественский женский монастырь", coords: [57.184897, 39.421268], type: "monastery", comment: "Женский монастырь, основанный в XIV веке. Сохранились собор Рождества Богородицы (XVII в.) и другие постройки. Расположен в Заровской слободе.", link: "Towns/rostov.html#рождественский-женский-монастырь", siteLink: ""},
            {name: "Церковь Спаса на Торгу (Спаса Ружная)", coords: [57.185990, 39.416747], type: "church", comment: "Храм 1685-1690 гг. на бывшей Торговой площади. Классический пример ростовской архитектурной школы XVII века. Яркая цветовая гамма.", link: "Towns/rostov.html#церковь-спаса-на-торгу-спаса-ружная", siteLink: ""},
            {name: "Церковь Иоанна Богослова на Ишне", coords: [57.180340, 39.354181], type: "church", comment: "Уникальный деревянный храм 1687-1689 гг. в селе Богослов. Шедевр русского деревянного зодчества с резьбой. Филиал музея-заповедника.", link: "Towns/rostov.html#церковь-иоанна-богослова-на-ишне", siteLink: ""},
            {name: "Музей финифти «Ростовская финифть»", coords: [57.182839, 39.384476], type: "museum", comment: "Расположен в здании бывшей гимназии в Кремле. Единственный в России музей, посвящённый уникальному промыслу — ростовской финифти (эмалевой миниатюре).", link: "Towns/rostov.html#музей-финифти-ростовская-финифть", siteLink: ""},
            {name: "Дом ремёсел", coords: [57.184043, 39.421002], type: "museum", comment: "Расположен в купеческом особняке. Центр сохранения и демонстрации традиционных народных промыслов: чернолощёная керамика, финифть, лозоплетение.", link: "Towns/rostov.html#дом-ремёсел", siteLink: ""},
            {name: "Озеро Неро", coords: [57.155631, 39.428872], type: "nature", comment: "Древнее озеро ледникового происхождения, возраст около 500 тыс. лет. Место основания города. Открываются знаменитые виды на кремль и монастыри.", link: "Towns/rostov.html#озеро-неро", siteLink: ""},
            {name: "Музей Царевны-лягушки", coords: [57.182758, 39.405230], type: "museum", comment: "Частный интерактивный музей в д. Васильково, посвящённый сказочному образу. Представляет народную культуру и фольклор Ростовской земли.", link: "Towns/rostov.html#музей-царевны-лягушки", siteLink: ""},
            {name: "Кекинский дом (Дом Ростовского купечества)", coords: [57.182003, 39.402452], type: "museum", comment: "Особняк XIX века. Внутри — экспозиция, посвящённая истории ростовского купечества, мещанскому быту и благотворителю А.Л. Кекину.", link: "Towns/rostov.html#кекинский-дом-дом-ростовского-купeчества", siteLink: ""},
            {name: "Памятник князю Василько", coords: [57.184930, 39.417923], type: "monument", comment: "Памятник основателю Успенского собора, князю Васильку Ростовскому (памятник 2015 г.). Расположен у входа в городской парк.", link: "Towns/rostov.html#памятник-князю-василько", siteLink: ""},
            {name: "Луковая слобода", coords: [57.194430, 39.402462], type: "museum", comment: "Интерактивный музейно-гастрономический комплекс, посвящённый главному бренду ростовского огородничества — знаменитому ростовскому репчатому луку.", link: "Towns/rostov.html#луковая-слобода", siteLink: "https://welcome-rostov.com/muzei/"}

        ];

        // отображение коммента и ссылок
        locations.forEach(function(location) 
        {
            let linksHTML = '';
            
            // ссылка "Подробнее", если она есть
            if (location.link) {
                //target="_blank" - открывает в новой вкладке
                linksHTML += `<a href="${location.link}" target="_blank" style="color: #1a2980; text-decoration: none; font-weight: bold; padding: 5px 10px; background: #e8f4ff; border-radius: 4px; display: inline-block; margin-top: 5px;">📖 Подробнее о достопримечательности</a>`;
            }
            
            // ссылка "На сайт музея", если она есть
            if (location.siteLink) {
                if (location.link) {
                    linksHTML += '<br>';
                }
                //target="_blank" - открывает в новой вкладке
                linksHTML += `<a href="${location.siteLink}" target="_blank" style="color: #26d0ce; text-decoration: none; font-weight: bold; padding: 5px 10px; background: #f0faff; border-radius: 4px; display: inline-block; margin-top: 5px;">🌐 Официальный сайт музея</a>`;
            }
            
            const popupContent = `
                <div style="min-width: 250px; max-width: 300px;">
                    <b style="color: #1a2980; font-size: 16px;">${location.name}</b><br>
                    <span style="color: #666; font-size: 13px;">Тип: ${getTypeName(location.type)}</span><br><br>
                    <div style="color: #333; font-size: 14px; line-height: 1.4;">${location.comment || ''}</div>
                    ${linksHTML ? `<div style="margin-top: 10px;">${linksHTML}</div>` : ''}
                </div>
            `;

            L.marker(location.coords, {icon: customIcon})
                .addTo(map)
                .bindPopup(popupContent);
        });
        

        // Функц преобразования типа в читаемое название
        function getTypeName(type) {
            const typeNames = {
                'museum': 'Музей',
                'memorial': 'Мемориал',
                'library': 'Библиотека',
                'estate': 'Усадьба',
                'church': 'Храм',
                'kremlin': 'Кремль',
                'palace': 'Дворец',
                'monastery': 'Монастырь',
                'industrial': 'Промышленный объект',
                'monument': 'Памятник',
                'architecture': 'Архитектура',
                'nature': 'Природа',
                'archeology': 'Археология',
                'theater': 'Театр',
                'zoo': 'Зоопарк',
                'square': 'Площадь',
                'bridge': 'Мост',
                'village': 'Село',
                'landmark': 'Достопримечательность',
                'building': 'Здание'
            };
           return typeNames[type] || type;
        }

        // Границы квадрат Ярославской области
        var yaroslavlBounds = [
                [59.0, 37.0],  // Северо-запад
                [59.0, 41.5],  // Северо-восток  
                [56.5, 41.5],  // Юго-восток 
                [56.5, 37.0],  // Юго-запад 
                [59.5, 37.0]   // Конец полигон
        ];
        // граница области
        L.polygon(yaroslavlBounds, {
            color: 'blue',
            weight: 2,
            fillColor: 'lightblue',
            fillOpacity: 0.1,
            interactive: false
        }).addTo(map);
        // маска для внешней области (весь мир кроме Ярославской области)
        var worldBounds = [
            [90, -10000],   // Северо-запад 
            [90, 10000],    // Северо-восток 
            [-90, 10000],   // Юго-восток
            [-90, -10000],  // Юго-запад
            [90, -10000]    // конец маск(внешний)
        ];

        // Вырез Ярославская область из мировой маски
        var outerBounds = [
            worldBounds,
            yaroslavlBounds
        ];

        // маска поверх карты серая
        L.polygon(outerBounds, {
            color: 'gray',
            weight: 0,
            fillColor: '#dddddd',
            fillOpacity: 0.9999,  // Регулируй прозрачность
            interactive: false
        }).addTo(map);

        // // ============ УПРАВЛЕНИЕ ПОЛНОЭКРАННЫМ РЕЖИМОМ ============
        // var isFullscreen = false;
        // var previousView = null;
        // var exitButton = document.getElementById('exitFullscreenButton');

        // // Функция для ВКЛЮЧЕНИЯ полноэкранного режима
        // function enterFullscreen() {
        //     if (isFullscreen) return;
            
        //     var mapElement = document.getElementById('map');
            
        //     // Сохраняем текущее состояние карты
        //     previousView = {
        //         center: map.getCenter(),
        //         zoom: map.getZoom()
        //     };
            
        //     // Включаем полноэкранный режим
        //     mapElement.classList.add('map-fullscreen');
        //     exitButton.style.display = 'block';
        //     isFullscreen = true;
            
        //     // Перерисовываем карту для корректного отображения
        //     setTimeout(function() {
        //         map.invalidateSize();
        //         map.setView([57.89, 39.00], 9);
        //     }, 100);
        // }

        // // Функция для ВЫХОДА из полноэкранного режима
        // function exitFullscreen() {
        //     if (!isFullscreen) return;
            
        //     var mapElement = document.getElementById('map');
            
        //     // Возвращаемся к обычному режиму
        //     mapElement.classList.remove('map-fullscreen');
        //     exitButton.style.display = 'none';
        //     isFullscreen = false;
            
        //     // Восстанавливаем предыдущий вид
        //     if (previousView) {
        //         map.setView(previousView.center, previousView.zoom);
        //     }
            
        //     // Перерисовываем карту
        //     setTimeout(function() {
        //         map.invalidateSize();
        //     }, 100);
        // }

        // // Обработчик клика по кнопке выхода
        // exitButton.addEventListener('click', exitFullscreen);

        // // Обработчик клавиши Esc для выхода
        // document.addEventListener('keydown', function(e) {
        //     if (e.key === 'Escape' && isFullscreen) {
        //         exitFullscreen();
        //     }
        // });

        // // Добавляем кнопку на карту для входа в полноэкранный режим
        // var fullscreenControl = L.control({position: 'topright'});

        // fullscreenControl.onAdd = function(map) {
        //     var div = L.DomUtil.create('div', 'leaflet-bar leaflet-control leaflet-control-custom');
        //     div.innerHTML = '⛶';
        //     div.title = "На весь экран";
        //     div.style.backgroundColor = 'rgba(255, 255, 255, 0.9)';
        //     div.style.padding = '10px';
        //     div.style.fontSize = '18px';
        //     div.style.cursor = 'pointer';
        //     div.style.boxShadow = '0 2px 5px rgba(0,0,0,0.3)';
        //     div.style.borderRadius = '4px';
        //     div.style.fontWeight = 'bold';
        //     div.style.border = '2px solid #1a2980';
        //     div.style.color = '#1a2980';
            
        //     div.onclick = enterFullscreen;
            
        //     return div;
        // };

        // fullscreenControl.addTo(map);
    </script>
</body>
</html>